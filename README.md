# @altus/node-env

[![Build Status](https://travis-ci.org/carstensaltus/node-environment.svg?branch=master)](https://travis-ci.org/carstensaltus/node-environment)
[![Code Climate](https://codeclimate.com/github/carstensaltus/node-environment/badges/gpa.svg)](https://codeclimate.com/github/carstensaltus/node-environment)
[![Test Coverage](https://codeclimate.com/github/carstensaltus/node-environment/badges/coverage.svg)](https://codeclimate.com/github/carstensaltus/node-environment/coverage)
[![Issue Count](https://codeclimate.com/github/carstensaltus/node-environment/badges/issue_count.svg)](https://codeclimate.com/github/carstensaltus/node-environment)

A node environment helper module.

## Install

```
_> npm install @altus/node-env --save
```

## Quick start

Load an environment file
```
// Import the package
import * as env from '@altus/node-env';

// Import/load environment file
if (!env.load('/path/to/.env')) {
	console.log('Could not find environment file!');
}

```

Set and get variables:

```
// Set environment variable
env.var('APP_NAME', 'MyFirstApp');

// Get environment variable
env.var('APP_NAME');
```

## Read More

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## 

Check for the current node environemt.

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## 

Get or set the NODE_ENV variable.

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## 

Loads an environemt file and merges its values with
nodes `process.env` object.

**Parameters**

-   `file` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** the path to the environemnt file. (optional, default `'.env'`)
-   `overWrite` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Over write previous existing variables. (optional, default `true`)

**Examples**

```javascript
import env from '@altus/node-env'

if (!env.load('/path/to/the/.env')) {
	console.log('environment file was not found');
}
```

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** returns a boolean indicating if the file has sucessfully been loaded.

## 

Get or set a environment variable.

**Parameters**

-   `key` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The key of the environment variable.
-   `val` **any?** The value you want to assign to the key.

**Examples**

```javascript
import env from '@altus/node-env';

// Set an environment variable.
// process.env[key] = val;
env.var('APP_NAME', 'helloWorld');

// Only supplying the first param will get the
// invironment variable or return as an empty string.
env.set('APP_NAME');
```

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The key's value.

## 

Splits a string by a specified character and returns an array.

**Parameters**

-   `key` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The key value of the env variable.
-   `splitCharacter` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** The character you want to use to split the string. (optional, default `','`)
-   `defaultVal` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>** If key value wasn't found, use default value

**Examples**

```javascript
import env from '@altus/node-env'

// If variable was not found, undefined will be returned.
env.get('PORT');

// If variable is not found, '3000' will be returned as a string.
env.get('PORT', '3000');
```

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>** 

## Devs

Run the npm watch script to compile all changes:
```
npm run build
```

## Test
Run the test(s)
```
npm test
```
